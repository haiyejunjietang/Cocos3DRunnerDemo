{"version":3,"sources":["file:///D:/tangjianhua/cocos%20games/JareAdventure_/assets/scripts/collision.ts"],"names":["_decorator","Collider","Component","director","Player","ccclass","property","collision","start","collider","node","getComponent","on","onCollisionEnter","onTriggerEnter","event","otherCollider","name","enabled","getScene","emit","console","log"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;;AACjCC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2BAGjBO,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BL,SAD/B,CACyC;AAGrCM,QAAAA,KAAK,GAAG;AACJ,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBV,QAAvB,CAAf;AACAQ,UAAAA,QAAQ,CAACG,EAAT,CAAY,kBAAZ,EAAgC,KAAKC,gBAArC,EAAuD,IAAvD;AACAJ,UAAAA,QAAQ,CAACG,EAAT,CAAY,gBAAZ,EAA8B,KAAKE,cAAnC,EAAmD,IAAnD;AAEH;;AAEDD,QAAAA,gBAAgB,CAACE,KAAD,EAAyB;AACrC,cAAIA,KAAK,CAACC,aAAN,CAAoBN,IAApB,CAAyBO,IAAzB,IAAiC,UAArC,EAAiD;AAC7C,iBAAKP,IAAL,CAAUC,YAAV;AAAA;AAAA,kCAA+BO,OAA/B,GAAyC,KAAzC;AACAf,YAAAA,QAAQ,CAACgB,QAAT,GAAoBC,IAApB,CAAyB,OAAzB;AACH;AACJ;;AACDN,QAAAA,cAAc,CAACC,KAAD,EAAuB;AACjC,cAAIA,KAAK,CAACC,aAAN,CAAoBN,IAApB,CAAyBO,IAAzB,IAAiC,UAArC,EAAiD;AAC7CI,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,iBAAKZ,IAAL,CAAUC,YAAV;AAAA;AAAA,kCAA+BO,OAA/B,GAAyC,KAAzC;AACAf,YAAAA,QAAQ,CAACgB,QAAT,GAAoBC,IAApB,CAAyB,SAAzB;AACH;AACJ;;AAtBoC,O","sourcesContent":["import { _decorator, Collider, Component, director, ICollisionEvent, ITriggerEvent, Node } from 'cc';\r\nimport { Player } from './Player';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('collision')\r\nexport class collision extends Component {\r\n\r\n\r\n    start() {\r\n        let collider = this.node.getComponent(Collider);\r\n        collider.on('onCollisionEnter', this.onCollisionEnter, this);\r\n        collider.on('onTriggerEnter', this.onTriggerEnter, this);\r\n        \r\n    }\r\n\r\n    onCollisionEnter(event: ICollisionEvent) {\r\n        if (event.otherCollider.node.name == 'Obstacle') {\r\n            this.node.getComponent(Player).enabled = false;\r\n            director.getScene().emit('faild');\r\n        }\r\n    }\r\n    onTriggerEnter(event: ITriggerEvent) {\r\n        if (event.otherCollider.node.name == 'Obstacle') {\r\n            console.log('trigger enter')\r\n            this.node.getComponent(Player).enabled = false;\r\n            director.getScene().emit('success');\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}